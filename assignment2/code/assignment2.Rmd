---
title: "Titanic Exploratoin"
author: "Chakrit Jiarasatit"
date: "2024-09-12"
output: word_document
---
### Dowload essential packages
```{r}
library(tidyverse)
library(gtsummary)
```

### Import Titanic data
```{r}
titanic_data <- read.csv("../data/titanic/train.csv")
```

### Summary Titanic data
```{r}
summary(titanic_data)
```

### Boxplot of Titanic passenger data
### The age distribution of passengers aboard the Titanic
#### - Median Age : the median age of the passengers is represented by the line inside the box. This indicateds the middle point of age distribution
#### - Interquartile Range (IQR) : The box itself represented the interquartile range, which contains the middle 50% of the data. This range provides a measure of the spread of the central portion of the ages
#### - Outliers : The dots above the upper whisker represent outliers, which are individual ages that fall outside 1.5 times the IQR. These outliers indicate passengers with ages significantly different from the majority. The outliers in this dataset are ages that exceed approximately 60 years. These ages are significantly higher than the majority of the passenger ages.

```{r}
ggplot(titanic_data, aes(y = Age)) +
  geom_boxplot(outlier.colour = "blue", outlier.shape = 20, outlier.size = 3) +
  labs(title = "Boxplot of Age of Titanic Passengers", y = "Age")
```

### The distribution of the Parch (number of parents/children aboard) among passengers on the Titanic
#### - Median : The median number of parents/children aboard is represented by the line inside the box.
#### - Interquartile Range (IQR) : The box represents the middle 50% of the data, showing the spread of ‘Parch’ values.
#### - Outliers : Outliers are fall outside 1.5 times the IQR from the quartiles. In this boxplot, outliers are represented by green dots above the upper whisker. The outliers may represent passengers traveling with large families, which was not common among the majority of passengers.

```{r}
ggplot(titanic_data, aes(y = Parch)) +
  geom_boxplot(outlier.colour = "green", outlier.shape = 20, outlier.size = 3) +
  labs(title = "Boxplot of Parch of Titanic Passengers", y = "Parch")
```

### The distribution of the Fare (the fare paid by passengers) among passengers on the Titanic
#### - Median : The median fare paid by the passengers is represented by the line inside the box.
#### - Interquartile Range (IQR) : The box represents the middle 50% of the data, showing the spread of fare values.
#### - Outliers : Outliers are individual fare values that fall outside 1.5 times the IQR from the quartiles. In this boxplot, outliers are represented by pink dots above the upper whisker. The outliers in this dataset are fare values that exceed approximately 100. These values are significantly higher than the majority of the fare values.

```{r}
ggplot(titanic_data, aes(y = Fare)) +
  geom_boxplot(outlier.colour = "pink", outlier.shape = 20, outlier.size = 3) +
  labs(title = "Boxplot of Fare of Titanic Passengers", y = "Fare")
```

### The distribution of the SibSp variable (number of siblings/spouses aboard) among passengers on the Titanic
#### - Median : The median number of siblings/spouses aboard is represented by the line inside the box.
#### - Interquartile Range (IQR) : The box represents the middle 50% of the data, showing the spread of ‘SibSp’ values.
#### - Outliers : Outliers are individual ‘SibSp’ values that fall outside 1.5 times the IQR from the quartiles. In this boxplot, outliers are represented by red dots above the upper whisker. The outliers in this dataset are ‘SibSp’ values that exceed approximately 3. These values are significantly higher than the majority of the ‘SibSp’ values.

```{r}
ggplot(titanic_data, aes(y = SibSp)) +
  geom_boxplot(outlier.colour = "red", outlier.shape = 20, outlier.size = 3) +
  labs(title = "Boxplot of SibSp of Titanic Passengers", y = "SibSp")
```

### Table 1 Shows the survival rates of Titanic passengers based on Pclass, Sex, SibSp, Parch 

### Analysis of passenger class (Pclass) and survival rates on the Titanic
#### - Highest survival rates in first Class : Passengers in first class had the highest survival rates, likely due to better access to lifeboats and priority during evacuation.
#### - Third class & Second Class : Interestingly, third-class passengers had a higher survival rate (35%) compared to second-class passengers (25%). This could be due to various factors such as the location of cabins, the demographics of the passengers, or the effectiveness of evacuation procedures for different classes.
#### - Socioeconomic Factors : The overall trend still suggests that higher-class passengers had better survival chances, but the higher survival rate in third class compared to second class is an important observation that warrants further investigation.

### Analysis of sex and survival rates on the Titanic
#### - Higher survival rates for females : Female passengers had a significantly higher survival rate (68%) compared to male passengers (32%). This trend suggests that women were given priority during the evacuation process, which aligns with the “women and children first” protocol often followed during maritime disasters.
#### - Lower survival rates for males : Male passengers had a much lower survival rate, which could be due to the prioritization of women and children for lifeboat spaces.

### Analysis of SibSp and survival rates on the Titanic
#### - Higher survival rates with 1 Sibling/Spouse : Passengers with one sibling or spouse aboard had the highest survival rate (53.6%). This suggests that having a close family member might have provided better chances of survival.
#### - Decreasing survival rates with more Siblings/Spouses : As the number of siblings or spouses increases, the survival rates generally decrease. This trend could be due to the challenges of coordinating and ensuring the safety of larger family groups during the evacuation.

### Analysis of parch and survival rates on the Titanic
#### - Higher survival rates with 1-3 Parents/Children: Passengers with one to three parents or children aboard had relatively higher survival rates, with the highest being 60% for those with three parents or children. This suggests that having a small family group might have provided better chances of survival.
#### - Decreasing survival rates with more Parents/Children: As the number of parents or children increases beyond three, the survival rates generally decrease. This trend could be due to the challenges of coordinating and ensuring the safety of larger family groups during the evacuation.

```{r}
table1 <- titanic_data %>%
  select(Survived, Pclass, Sex, SibSp, Parch) %>%
  tbl_summary(by = Survived, 
              statistic = list(all_categorical() ~ "{n} ({p}%)",
                               all_continuous() ~ "{mean} ({sd})"))
```

```{r}
table1
```